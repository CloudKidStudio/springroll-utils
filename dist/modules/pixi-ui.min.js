/*! springroll-utils 0.0.1 */
!function(){"use strict";!function(){var a=include("springroll.pixi.Button"),b=include("PIXI.Sprite"),c=include("PIXI.Texture"),d=function(d,e,f,g){a.call(this,d,e,g),this.icon=new b,f.pos&&(this.icon.x=f.pos.x,this.icon.y=f.pos.y),f.scale&&(this.icon.scale.x=f.scale.x,this.icon.scale.y=f.scale.y),this.addChildAt(this.icon,1);var h=f.icon||d.up.icon;for(var i in this._stateData){var j;j=d[i]?d[i].icon||h:h,"string"==typeof j&&(j=c.fromImage(j)),this._stateData[i].icon=j}this._updateState()},e=extend(d,a),f=a.prototype;e._Button_updateState=e._updateState,e._updateState=function(){if(this.icon){var a=this._Button_updateState();this.icon.texture=a.icon}},e.destroy=function(){this.back&&(f.destroy.call(this),this.icon=null)},namespace("springroll.pixi").IconButton=d}(),function(){var a=include("PIXI.Container"),b=include("PIXI.Graphics"),c=function(){a.call(this),this.content=new a,this.addChild(this.content),this.items=[],this.orientation="horizontal",this.horizontalSpacing=0,this.verticalSpacing=0,this.itemsPerRow=1,this.itemsPerColumn=1,this.listWidth=0,this.listHeight=0,this.maxScroll=0,this.listViewArea=0},d=extend(c,a),e=a.prototype;d.setMask=function(a,c){var d;"number"==typeof a&&"number"==typeof c?(d=new b,d.beginFill(0,1),d.drawRect(0,0,a,c),d.endFill(),"vertical"==this.orientation?(this.listViewArea=c,this.maxScroll=this.listHeight-c):(this.listViewArea=a,this.maxScroll=this.listWidth-a)):d=a||null,this.maskObj&&this.removeChild(this.maskObj),this.content.mask=d,this.addChild(d),this.maskObj=d},Object.defineProperty(d,"scroll",{get:function(){return"vertical"==this.orientation?-this.content.x:-this.content.y},set:function(a){0>a?a=0:a>this.maxScroll&&(a=this.maxScroll),"vertical"==this.orientation?this.content.x=-a:this.content.y=-a}}),Object.defineProperty(d,"scrollPercent",{get:function(){return"vertical"==this.orientation?-this.content.x/this.maxScroll:-this.content.y/this.maxScroll},set:function(a){0>a?a=0:a>this.maxScroll&&(a=this.maxScroll),a*=-maxScroll,"vertical"==this.orientation?this.content.x=a:this.content.y=a}}),d.addItem=function(a){this.items.indexOf(a)>=0||(this.items.push(a),this.content.addChild(a),this.updateOrder())},d.updateOrder=function(){this.listWidth=0,this.listHeight=0;for(var a=0,b=0,c=this.items,d=0,e=c.length;e>d;++d){var f=c[d];f.x=a,f.y=b;var g=f.getLocalBounds().clone();g.width*=f.scale.x,g.height*=f.scale.y,f.x+g.width>this.listWidth&&(this.listWidth=f.x+g.width),f.y+g.height>this.listHeight&&(this.listHeight=f.y+g.height),"horizontal"==this.orientation?d%this.itemsPerColumn==this.itemsPerColumn-1?(b=0,a+=g.width+this.horizontalSpacing):b+=g.height+this.verticalSpacing:d%this.itemsPerRow==this.itemsPerRow-1?(a=0,b+=g.height+this.verticalSpacing):a+=g.width+this.horizontalSpacing}"horizontal"==this.orientation?this.maxScroll=this.listWidth-this.listViewArea:this.maxScroll=this.listHeight-this.listViewArea,this.emit("resize",this.listWidth,this.listHeight)},d.removeItem=function(a,b){var c=this.items.indexOf(a);-1!=c&&(this.items.splice(c,1),this.content.removeChild(a),b||(this.updateOrder(),this.emit("resize",this.listWidth,this.listHeight)),this.emit("itemRemoved",a))},d.removeAllItems=function(){for(var a=this.items.length-1;a>=0;--a)this.removeItem(this.items[a],!0);this.listWidth=this.listHeight=0,this.emit("resize",this.listWidth,this.listHeight)},d.destroy=function(){e.destroy.call(this),this.content.destroy(),this.content=this.items=null},namespace("springroll.pixi").List=c}();}();